<app-view-user-modal
  *ngIf="showModal"
  [userDetails]="userForm.value"
  (onCancel)="closeModal()"
  (onSubmit)="addRecord()"
></app-view-user-modal>
<form [formGroup]="userForm" (ngSubmit)="onSubmit()">
  <h1 class="text-center">Enter Details</h1>
  <div class="form-group mb-3">
    <label for="name">Name</label>
    <input
      type="text"
      class="form-control"
      id="name"
      placeholder="Enter name"
      formControlName="name"
    />
    <div *ngIf="userForm.get('name')?.invalid && userForm.get('name')?.touched">
      <p class="error-text" *ngIf="userForm.get('name')?.errors?.['required']">
        Name is required.
      </p>
      <p class="error-text" *ngIf="userForm.get('name')?.errors?.['minlength']">
        Name must be at least 2 characters long.
      </p>
      <p class="error-text" *ngIf="userForm.get('name')?.errors?.['maxlength']">
        Name max length is 30.
      </p>
      <p class="error-text" *ngIf="userForm.get('name')?.errors?.['pattern']">
        Name cannot contain symbols or numbers.
      </p>
    </div>
  </div>
  <div class="form-group mb-3">
    <label>Gender</label>
    <div class="form-check form-check-inline">
      <input
        class="form-check-input"
        type="radio"
        name="gender"
        id="male"
        value="male"
        formControlName="gender"
      />
      <label class="form-check-label" for="male"> Male </label>
    </div>
    <div class="form-check form-check-inline">
      <input
        class="form-check-input"
        type="radio"
        name="gender"
        id="female"
        value="female"
        formControlName="gender"
      />
      <label class="form-check-label" for="female"> Female </label>
    </div>
    <div
      *ngIf="userForm.get('gender')?.invalid && userForm.get('gender')?.touched"
    >
      <p
        class="error-text"
        *ngIf="userForm.get('gender')?.errors?.['required']"
      >
        Gender is required.
      </p>
    </div>
  </div>
  <div class="form-group mb-3">
    <label for="email">Email</label>
    <input
      type="email"
      class="form-control"
      id="email"
      placeholder="Enter email"
      formControlName="email"
    />
    <div
      *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.touched"
    >
      <p class="error-text" *ngIf="userForm.get('email')?.errors?.['required']">
        Email is required.
      </p>
      <p class="error-text" *ngIf="userForm.get('email')?.errors?.['email']">
        Invalid email address,
      </p>
    </div>
  </div>
  <div class="form-group mb-3">
    <label for="phone">Phone Number</label>
    <input
      type="tel"
      class="form-control"
      id="phone"
      placeholder="Enter phone"
      formControlName="phone"
    />
    <div
      *ngIf="userForm.get('phone')?.invalid && userForm.get('phone')?.touched"
    >
      <p class="error-text" *ngIf="userForm.get('phone')?.errors?.['required']">
        Phone no is required.
      </p>
      <p class="error-text" *ngIf="userForm.get('phone')?.errors?.['pattern']">
        Phone no should be of 10 digit. Only numbers allowed.
      </p>
    </div>
  </div>

  <div class="form-group mb-3">
    <label for="category">Category</label>
    <select class="form-control" id="category" formControlName="category">
      <option value="">Choose</option>
      <option value="general">General</option>
      <option value="sc/st">SC/ST</option>
      <option value="obc">OBC</option>
    </select>
    <div
      *ngIf="
        userForm.get('category')?.invalid && userForm.get('category')?.touched
      "
    >
      <p
        class="error-text"
        *ngIf="userForm.get('category')?.errors?.['required']"
      >
        Category is required.
      </p>
    </div>
  </div>
  <div class="form-group mb-3">
    <label>Technology</label>
    <div class="form-check">
      <input
        class="form-check-input"
        type="checkbox"
        value="c"
        id="c"
        formControlName="technology"
      />
      <label class="form-check-label" for="c"> C </label>
    </div>
    <div class="form-check">
      <input
        class="form-check-input"
        type="checkbox"
        value="c++"
        id="c++"
        formControlName="technology"
      />
      <label class="form-check-label" for="c++"> C++ </label>
    </div>
    <div class="form-check">
      <input
        class="form-check-input"
        type="checkbox"
        value="java"
        id="java"
        formControlName="technology"
      />
      <label class="form-check-label" for="java"> Java </label>
    </div>
    <div class="form-check">
      <input
        class="form-check-input"
        type="checkbox"
        value="python"
        id="python"
        formControlName="technology"
      />
      <label class="form-check-label" for="python"> Python </label>
    </div>
    <div class="form-check">
      <input
        class="form-check-input"
        type="checkbox"
        value="javascript"
        id="javascript"
        formControlName="technology"
      />
      <label class="form-check-label" for="javascript"> Javascript </label>
    </div>
  </div>
  <button type="submit" class="btn btn-primary">Preview</button>
</form>
